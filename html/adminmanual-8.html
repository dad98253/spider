<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The DXSpider Administration Manual v1.48: CVS</TITLE>
 <LINK HREF="adminmanual-9.html" REL=next>
 <LINK HREF="adminmanual-7.html" REL=previous>
 <LINK HREF="adminmanual.html#toc8" REL=contents>
<link rel=stylesheet href="style.css" type="text/css" title="default stylesheet">
</HEAD>
<BODY>
<A HREF="adminmanual-9.html">Next</A>
<A HREF="adminmanual-7.html">Previous</A>
<A HREF="adminmanual.html#toc8">Contents</A>
<HR>
<H2><A NAME="s8">8. CVS</A></H2>

<P>CVS stands for "Concurrent Versions System" and the CVS for DXSpider is held
at 
<A HREF="http://www.sourceforge.net">Sourceforge</A>.  This means
that it is possible to update your DXSpider installation to the latest
sources by using a few simple commands.
<P>
<P>Please be aware that if you update your system using CVS, it is possible that
you could be running code that is very beta and not fully tested.  There is
a possibility that it could be unstable.
<P>
<P>I am of course assuming that you have a machine with both DXSpider and
Internet access running.
<P>
<P>BEFORE YOU EVEN CONSIDER STARTING WITH THIS MAKE A BACKUP OF YOUR
ENTIRE SPIDER TREE!!
<P>
<P>Assuming you are connected to the Internet, you need to login to the
CVS repository and then update your Spider source.  There are several
steps which are listed below ...
<P>
<P>First login as the user <EM>sysop</EM>.  Next you need to connect to the CVS
repository.  You do this with the command below ...
<P>
<PRE>
cvs -d:pserver:anonymous@cvs.DXSpider.sourceforge.net:/cvsroot/dxspider login 
</PRE>
<P>You will get a password prompt.  Simply hit return here and your machine should
return to a normal linux prompt.
<P>
<P>What happens next depends on whether you have an existing installation that 
you want to update with the latest and greatest or whether you just want
to see what is there and/or run it on a new machine for testing.
<P>If you are installing Spider from CVS then change directory to /home/sysop
<P>If you are wanting to update Spider then cd to /tmp
<P>
<P>The next step will create a brand new 'spider' directory in your current
directory.
<P>
<PRE>
cvs -z3 -d:pserver:anonymous@cvs.DXSpider.sourceforge.net:/cvsroot/dxspider co spider
</PRE>
<P>This command is all on one line.
<P>
<P>Hopefully your screen should show you downloading files.  The -z3 simply compresses
the download to improve speed.
When this has finished, you will have exactly the same as if you had untarred a full 
tarball PLUS some extra directories and files that CVS needs to do the magic that 
it does.
<P>
<P>Now if you are doing a new installation, that's it.  Carry on as if you have
just downloaded and untarred the lastest tarball.
<P>
<P>If you want to upgrade your current installation then do this ...
<P>
<BLOCKQUOTE><CODE>
<PRE>
tar cvfz /tmp/s.tgz spider
cd /
tar xvfzp /tmp/s.tgz
</PRE>
</CODE></BLOCKQUOTE>
<P>This is assuming you downloaded to the /tmp directory of course.
<P>
<P>NOTE:  the 'p' on the end of the 'xvfz' is IMPORTANT!   It keeps the permissions
correct.  YOU WERE LOGGED IN AS THE USER SYSOP WEREN'T YOU?????
<P>Remember to recompile the C client (cd /spider/src; make)
<P>
<P>At this point the files have been upgraded.  You can (usually) restart the cluster
in your own time.  However, if you attempt to use any new commands or features
expect it to be fatal!  At least your cluster will have been restarted then so it
will be too late to worry about it!
<P>
<P>Now the magic part!  From now on when you want to update, simply connect to the 
Internet and then, as the user <EM>sysop</EM> ...
<P>
<BLOCKQUOTE><CODE>
<PRE>
cd /spider
cvs -z3 update -d
</PRE>
</CODE></BLOCKQUOTE>
<P>and your files will be updated.  As above, remember to recompile the "C" client 
if it has been updated (CVS will tell you) and restart if any of the perl scripts
have been altered or added, again, CVS will tell you.
<P>
<P>You will find any changes documented in the /spider/Changes file.
<P>
<HR>
<A HREF="adminmanual-9.html">Next</A>
<A HREF="adminmanual-7.html">Previous</A>
<A HREF="adminmanual.html#toc8">Contents</A>
</BODY>
</HTML>
