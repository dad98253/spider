<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>The DXSpider Installation and Administration Manual : Other filters</TITLE>
 <LINK HREF="adminmanual-9.html" REL=next>
 <LINK HREF="adminmanual-7.html" REL=previous>
 <LINK HREF="adminmanual.html#toc8" REL=contents>
<link rel=stylesheet href="style.css" type="text/css" title="default stylesheet">
</HEAD>
<BODY>
<A HREF="adminmanual-9.html">Next</A>
<A HREF="adminmanual-7.html">Previous</A>
<A HREF="adminmanual.html#toc8">Contents</A>
<HR>
<H2><A NAME="s8">8. Other filters</A></H2>

<H2><A NAME="ss8.1">8.1 Filtering Mail</A>
</H2>

<P>In the /spider/msg directory you will find a file called badmsg.pl.issue.  Rename
this to badmsg.pl and edit the file.  The original looks something like this ....
<P>
<BLOCKQUOTE><CODE>
<PRE>

# the list of regexes for messages that we won't store having
# received them (bear in mind that we must receive them fully before
# we can bin them)


# The format of each line is as follows

#     type      source             pattern 
#     P/B/F     T/F/O/S            regex  

# type: P - private, B - bulletin (msg), F - file (ak1a bull)
# source: T - to field, F - from field,  O - origin, S - subject 
# pattern: a perl regex on the field requested

# Currently only type B and P msgs are affected by this code.
# 
# The list is read from the top down, the first pattern that matches
# causes the action to be taken.

# The pattern can be undef or 0 in which case it will always be selected
# for the action specified



package DXMsg;

@badmsg = (
'B',    'T',    'SALE', 
'B',    'T',    'WANTED',
'B',    'S',    'WANTED',
'B',    'S',    'SALE', 
'B',    'S',    'WTB',
'B',    'S',    'WTS',
'B',    'T',    'FS',
);
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>I think this is fairly self explanatory.  It is simply a list of subject 
headers that we do not want to pass on to either the users of the cluster or 
the other cluster nodes that we are linked to.  This is usually because of 
rules and regulations pertaining to items for sale etc in a particular country.
<P>
<H2><A NAME="ss8.2">8.2 Filtering DX callouts (Depricated)</A>
</H2>

<P><B><I>From version 1.47, this method is replaced by the command set/baddx</I></B>
<P>
<P>In the same way as mail, there are some types of spot we do not wish to pass on 
to users or linked cluster nodes.  In the /spider/data directory you will find 
a file called baddx.pl.issue.  Rename this to baddx.pl and edit the file.  The
original looks like this ....
<P>
<BLOCKQUOTE><CODE>
<PRE>

# the list of dx spot addresses that we don't store and don't pass on


package DXProt;

@baddx = qw 

 FROG 
 SALE
 FORSALE
 WANTED
 P1RATE
 PIRATE
 TEST
 DXTEST
 NIL
 NOCALL 
);
</PRE>
</CODE></BLOCKQUOTE>
<P>
<P>Again, this is simply a list of names we do not want to see in the spotted 
field of a DX callout.
<P>
<P>
<H2><A NAME="ss8.3">8.3 Filtering words from text fields in Announce, Talk and DX spots</A>
</H2>

<P>Create a file in /spider/data called <EM>badwords</EM>.  The format is quite
simple.  Lines beginning with # are ignored so comments can be added.  An
example file is below ...
<P>
<BLOCKQUOTE><CODE>
<PRE>
# Below is a list of words we do not wish to see on the cluster
grunge grunged grunging
splodge splodger splodging
grince
fluffle
</PRE>
</CODE></BLOCKQUOTE>
<P>Multiple words can be used on the same line as shown.  Obviously these
are just examples :-)
<P>
<P>You can reload the file from the cluster prompt as sysop with load/badwords.
<P>
<HR>
<A HREF="adminmanual-9.html">Next</A>
<A HREF="adminmanual-7.html">Previous</A>
<A HREF="adminmanual.html#toc8">Contents</A>
</BODY>
</HTML>
