<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="LinuxDoc-Tools 0.9.21">
 <TITLE>The DXSpider FAQ: Administration</TITLE>
 <LINK HREF="spiderFAQ_en-1.html" REL=previous>
 <LINK HREF="spiderFAQ_en.html#toc2" REL=contents>
<link rel=stylesheet href="style.css" type="text/css" title="default stylesheet">
</HEAD>
<BODY>
Next
<A HREF="spiderFAQ_en-1.html">Previous</A>
<A HREF="spiderFAQ_en.html#toc2">Contents</A>
<HR>
<H2><A NAME="s2">2.</A> <A HREF="spiderFAQ_en.html#toc2">Administration</A></H2>

<H2><A NAME="ss2.1">2.1</A> <A HREF="spiderFAQ_en.html#toc2.1">How can I get Spider to restart automatically if it crashes?</A>
</H2>

<P>Put this line into /etc/inittab ..</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
DX:3:respawn:/bin/su -c "/usr/bin/perl -w /spider/perl/cluster.pl" sysop > /dev/tty7
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Run <EM>telinit q</EM> as root.  Spider will restart so be aware.  However, any
time you reboot, cluster.pl will start in tty7 and if it crashes, it should restart ok.</P>

<H2><A NAME="ss2.2">2.2</A> <A HREF="spiderFAQ_en.html#toc2.2">How can I monitor traffic to and from a node or user?</A>
</H2>

<P>There are 2 ways to achieve this.  You can use the <EM>tail</EM> command like this ..</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
tail -f /spider/data/debug/167.dat |grep G0VGS
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>or in later versions of Spider, there is a command called <EM>watchdbg</EM> in which
case you simply type ..</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
watchdbg G0VGS
</PRE>
</CODE></BLOCKQUOTE>
</P>

<H2><A NAME="ss2.3">2.3</A> <A HREF="spiderFAQ_en.html#toc2.3">My neighbouring node cannot use the RCMD command to me, he just keeps getting the "tut tut" message.</A>
</H2>

<P>Assuming that the permissions are set correctly (perm level 5 required), it could be
that the home_node is set incorrectly.  You can reset the home_node using the <EM>spoof</EM>
command like this ..</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
spoof gb7adx set/home gb7adx
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Assuming that the node_call you are changing is gb7adx.</P>

<H2><A NAME="ss2.4">2.4</A> <A HREF="spiderFAQ_en.html#toc2.4">I do not seem to be sending any bulletin mail to my link partners, what is wrong?</A>
</H2>

<P>There is a file in /spider/msg called forward.pl.issue.  Rename this to
forward.pl and edit it to meet your requirements.  You will need to issue
the command <EM>load/forward</EM> or restart Spider for the changes to 
take effect.</P>

<H2><A NAME="ss2.5">2.5</A> <A HREF="spiderFAQ_en.html#toc2.5">How can I automatically limit the amount of debug logfiles that are stored?</A>
</H2>

<P>Use the tmpwatch command.  Create a file in /etc/cron.daily/ containing the line ...</P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
/usr/sbin/tmpwatch -f 240 /spider/data/debug
</PRE>
</CODE></BLOCKQUOTE>
</P>
<P>Remember to make it executable!</P>
<P>This will limit your debug data down to the last 10 days</P>

<H2><A NAME="ss2.6">2.6</A> <A HREF="spiderFAQ_en.html#toc2.6">I updated my Linux distribution and now Spider cannot read the users file or the dupefile, what is the problem?</A>
</H2>

<P>Almost certainly this is a change in the db format of perl.  Follow these
few steps to correct the problem.</P>
<P>
<UL>
<LI>stop the cluster (disable any autostart in inittab)</LI>
<LI>cd /spider/data</LI>
<LI>issue the command perl user_asc</LI>
<LI>restart the cluster</LI>
</UL>
</P>
<P>That should solve the problem.</P>

<H2><A NAME="ss2.7">2.7</A> <A HREF="spiderFAQ_en.html#toc2.7">Since I last updated I seem to be getting duplicate spots appearing.</A>
</H2>

<P>What has probably happened is that the dupefile has got corrupted in
some way.  Simply delete the /spider/data/dupefile and restart the
cluster.  It may take a little time to become fully functional but
should solve your problem.</P>

<H2><A NAME="ss2.8">2.8</A> <A HREF="spiderFAQ_en.html#toc2.8">I have deleted a message but it is still there, why?</A>
</H2>

<P>This is now the way messages are handled for deletion in Spider.  If you
look closely you will see a 'D' following the message number.  This 
message is marked for deletion and will be deleted in 2 days if nothing
further is done.  Optionally you can use the command <EM>delete/expunge</EM>
to delete it immediately.</P>

<HR>
Next
<A HREF="spiderFAQ_en-1.html">Previous</A>
<A HREF="spiderFAQ_en.html#toc2">Contents</A>
</BODY>
</HTML>
