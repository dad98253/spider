  The DXSpider FAQ
  Ian Maude, G0VGS, (g0vgs@gb7mbc.net)
  December 2001 Revision: 1.8

  A reference for SysOps of the DXSpider DXCluster program.
  ______________________________________________________________________

  Table of Contents


  1. Installation
     1.1 Where do I get DXSpider?
     1.2 How do I use the patches?
     1.3 If I use a tarball to overwrite my installation, what happens to my configuration?
     1.4 I am running RedHat 5.2 and I am getting strange errors, what is wrong?

  2. Administration
     2.1 How can I get Spider to restart automatically if it crashes?
     2.2 How can I monitor traffic to and from a node or user?
     2.3 My neighbouring node cannot use the RCMD command to me, he just keeps getting the "tut tut" message.
     2.4 I do not seem to be sending any bulletin mail to my link partners, what is wrong?
     2.5 How can I automatically limit the amount of debug logfiles that are stored?
     2.6 I updated my Linux distribution and now Spider cannot read the users file or the dupefile, what is the problem?
     2.7 Since I last updated I seem to be getting duplicate spots appearing.
     2.8 I have deleted a message but it is still there, why?


  ______________________________________________________________________

  Please mail any FAQs to the maintainer at the address above.



  [1m1.  Installation[0m

  [1m1.1.  Where do I get DXSpider?[0m

  All things Spider can be found at www.dxcluster.org and the actual
  program and patches can be found in the download area.


  [1m1.2.  How do I use the patches?[0m

  Patching is done in the standard linux way ...



       zcat /tmp/patch-1.40 | patch -p0



  assuming the patch version you are using is 1.40 and resides in /tmp!


  Be aware that each patch assumes the previous patch has been applied.
  That is to say if you are patching from version 1.38 to 1.40 you would
  first need to apply patch-1.39 and then patch-1.40.


  [1m1.3.  If I use a tarball to overwrite my installation, what happens to[0m
  [1mmy configuration?[0m

  The tarballs are designed to not overwrite your existing configuration
  and can be used at any time to update your Spider software.  All the
  key files have the suffix .issue (eg. DXVars.pm.issue) at default.


  [1m1.4.  I am running RedHat 5.2 and I am getting strange errors, what is[0m
  [1mwrong?[0m

  The version of Perl that comes with 5.2 seems to be some kind of pre-
  release and is broken.  You can get a new version of perl from
  www.dxcluster.org or ftp://updates.redhat.com.  Don't forget to patch
  it with the CPAN modules.


  [1m2.  Administration[0m

  [1m2.1.  How can I get Spider to restart automatically if it crashes?[0m

  Put this line into /etc/inittab ..



       DX:3:respawn:/bin/su -c "/usr/bin/perl -w /spider/perl/cluster.pl" sysop > /dev/tty7



  Run [4mtelinit[24m [4mq[24m as root.  Spider will restart so be aware.  However, any
  time you reboot, cluster.pl will start in tty7 and if it crashes, it
  should restart ok.


  [1m2.2.  How can I monitor traffic to and from a node or user?[0m

  There are 2 ways to achieve this.  You can use the [4mtail[24m command like
  this ..



       tail -f /spider/data/debug/167.dat |grep G0VGS



  or in later versions of Spider, there is a command called [4mwatchdbg[24m in
  which case you simply type ..



       watchdbg G0VGS



  [1m2.3.  My neighbouring node cannot use the RCMD command to me, he just[0m
  [1mkeeps getting the "tut tut" message.[0m

  Assuming that the permissions are set correctly (perm level 5
  required), it could be that the home_node is set incorrectly.  You can
  reset the home_node using the [4mspoof[24m command like this ..



       spoof gb7adx set/home gb7adx



  Assuming that the node_call you are changing is gb7adx.


  [1m2.4.  I do not seem to be sending any bulletin mail to my link part-[0m
  [1mners, what is wrong?[0m

  There is a file in /spider/msg called forward.pl.issue.  Rename this
  to forward.pl and edit it to meet your requirements.  You will need to
  issue the command [4mload/forward[24m or restart Spider for the changes to
  take effect.


  [1m2.5.  How can I automatically limit the amount of debug logfiles that[0m
  [1mare stored?[0m

  Use the tmpwatch command.  Create a file in /etc/cron.daily/
  containing the line ...



       /usr/sbin/tmpwatch -f 240 /spider/data/debug



  Remember to make it executable!

  This will limit your debug data down to the last 10 days


  [1m2.6.  I updated my Linux distribution and now Spider cannot read the[0m
  [1musers file or the dupefile, what is the problem?[0m

  Almost certainly this is a change in the db format of perl.  Follow
  these few steps to correct the problem.


  o  stop the cluster (disable any autostart in inittab)

  o  cd /spider/data

  o  issue the command perl user_asc

  o  restart the cluster

  That should solve the problem.


  [1m2.7.  Since I last updated I seem to be getting duplicate spots[0m
  [1mappearing.[0m

  What has probably happened is that the dupefile has got corrupted in
  some way.  Simply delete the /spider/data/dupefile and restart the
  cluster.  It may take a little time to become fully functional but
  should solve your problem.


  [1m2.8.  I have deleted a message but it is still there, why?[0m

  This is now the way messages are handled for deletion in Spider.  If
  you look closely you will see a 'D' following the message number.
  This message is marked for deletion and will be deleted in 2 days if
  nothing further is done.  Optionally you can use the command
  [4mdelete/expunge[24m to delete it immediately.



